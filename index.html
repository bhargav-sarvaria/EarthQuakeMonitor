<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rumble Visualization</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="./css/chart1.css">
    <link rel="stylesheet" href="./css/chart2.css">
    <link rel="stylesheet" href="./css/chart3.css">
    <link rel="stylesheet" href="./css/chart4.css">
    <link rel="stylesheet" href="./css/chart5.css">
    <link rel="stylesheet" href="./css/main.css">
</head>

<body>

    <div class="container-fluid">
        <div class="row">
            <div class="col-12 title">Rumble Messages from St. Himark</div>
        </div>
        <div class="row">
            <div class="col-12 p-0" id="dateSliderWrapper"></div>
        </div>

        <div style="width: 100vw; height: 100vh;">
            <div class="chart w-100 h-100" id="chart-3"></div>
        </div>
        <div style="width: 100vw; height: 10vh;">
            <div id="slider-container">
                <!-- <input type="range" class="form-control-range" id="customRange" min="0" max="100"> -->
            </div>
        </div>
        <div class="row" id="main-container">
            <div class="col-md-4">
                <div class="chart" id="chart-1"></div>
                <div class="chart" id="chart-2"></div>
            </div>
            <div class="col-md-4">
                
                <div id="timeline-container"></div>
                <div id="chart-3-container">

                </div>
            </div>
            <div class="col-md-4">
                <div class="chart" id="chart-4"></div>
                <div class="chart" id="chart5-container">
                    <div class="chart5-dropdown">
                        <fieldset>

                        </fieldset>
                    </div>
                    <div id="chart5-linechart"></div>
                </div>
            </div>
        </div>
    </div>
    <div id="tooltip" style="visibility: hidden; color: black;">
        <div class="row justify-content-center">
            <div style="max-width: min-content;">
                <span style="white-space: nowrap;">Resource:</span>
                <span id="tooltip-name" style="font-weight: bold; white-space: nowrap; margin-left: 0.5em;"></span>
            </div>
        </div>
        <p id="tooltip-value" style="white-space: nowrap;"></p>
    </div>

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/holtzy/D3-graph-gallery@master/LIB/d3.layout.cloud.js"></script>

    <script src="./js/dateSlider.js"></script>
    <script src="./js/resourceLegend.js"></script>
    <script>
        // Global variables shared across all charts go here
        // Example: Date input slider
        let selectedregionarray = [];
        const { slider, setDateRange } = createDoubleSlider();
        slider.addEventListener('change', function () {
            // Each chart subscribes to 'change' event on `slider`
            // after 'DOMContentLoaded' event, see chart4.js
            console.log(`Slider value: ${slider.value}`);
        });


        const LOCATIONS = [
            "Cheddarford",
            "Palace Hills",
            "Southwest",
            "Northwest",
            "Old Town",
            "Weston",
            "Downtown",
            "Southton",
            "West Parton",
            "Easton",
            "Safe Town",
            "East Parton",
            "Oak Willow",
            "Chapparal",
            "Scenic Vista",
            "Terrapin Springs",
            "Pepper Mill",
            "Wilson Forest",
            "Broadview"
        ]


        /**
         * Fired when user hovers over a resource glyph (chart 4 bar segments)
         * types: resource-hover | resource-leave
         * detail: {
         *  resource: the resource name (eg. MEDICAL, EARTHQUAKE, etc.)
         * }
        */
        const resourceEvent = (type, resource) => new CustomEvent(`resource-${type}`, {
            cancelable: false,
            bubbles: true,
            detail: { resource }
        });
    </script>


    <script src="./js/chart1.js"></script>
    <script src="./js/chart2.js"></script>

    <script src="./js/chart4.js"></script>
    <script src="./js/chart5.js"></script>
    <script src="./js/chart3.js"></script>
</body>

</html>